지금부터 위 요구사항(수강신청 시스템)과 제출물 구조 규칙을 그대로 준수하여,
Python + FastAPI + SQLite(로컬) 기반으로 프로젝트를 완성해 주세요.

추가 질문 금지. 요구사항이 모호하면 합리적 가정을 채택하고 docs/REQUIREMENTS.md에 반드시 근거와 함께 명시해 주세요.

 매우 중요한 제약: 단계별로 진행하되, 각 단계가 끝날 때마다 테스트(또는 검증)를 수행하고 통과한 뒤에만 커밋하세요.
- 각 단계 커밋에는 무엇을 했는지 명확한 커밋 메시지를 사용하세요.
- 테스트/검증 결과(무엇을 실행했고 어떤 결과였는지)를 커밋 메시지 본문 또는 docs/REQUIREMENTS.md의 검증 로그 섹션에 짧게 남기세요.
- 최종적으로 git log 형태로 커밋 히스토리를 요약해 주세요(커밋 해시까지는 불필요).

반드시 아래 순서로 진행해 주세요.

---

## 1단계) 프로젝트 스캐폴딩 생성  (검증) 파일 구조 확인  커밋
- 아래 제출물 구조를 정확히 따르세요.
project-root/
 README.md
 AGENTS.md
 requirements.txt
 docs/
    REQUIREMENTS.md
    API.md
 prompts/
    0001_system_prompt.md
    0002_stack_and_submission_rules.md
    0003_next_prompt.md
 src/
     app/
        __init__.py
        main.py
        settings.py
        db.py
        models.py
        schemas.py
        errors.py
        services/
           __init__.py
           enrollment_service.py
        routers/
           __init__.py
           students.py
           professors.py
           courses.py
           enrollments.py
           me.py
        utils/
            __init__.py
            time_conflict.py
     tests/
         __init__.py
         test_enrollment_rules.py
         test_concurrency_capacity.py

(검증)
- 트리 구조가 정확한지 확인하는 체크리스트를 출력하세요(파일명/경로).
- 누락/오탈자 없음을 확인한 뒤 커밋하세요.

---

## 2단계) 문서 작성  (검증) 문서 간 정합성 점검  커밋
- README.md: venv 생성/활성화, 의존성 설치, DB 초기화/시드, 서버 실행, 포트, API 문서 위치 포함
- AGENTS.md: AI 에이전트 지침(역할, 금지사항, 작업 방식, 커밋 규칙, 문서 업데이트 규칙)
- docs/REQUIREMENTS.md: 요구사항 요약, 모호/누락, 가정/정책(이유), 데이터 모델, 동시성/정합성 전략(핵심), 범위(MVP/제외)
- docs/API.md: 구현할 모든 API의 상세 명세(엔드포인트/헤더/쿼리/바디/응답/에러코드/예시 JSON)
- prompts/*.md:
  - 0001_system_prompt.md: 사용자가 이미 입력한 첫 번째 프롬프트 원문 그대로
  - 0002_stack_and_submission_rules.md: 사용자가 이미 입력한 두 번째 프롬프트 원문 그대로
  - 0003_next_prompt.md: 이번 프롬프트(지금 요청) 원문 그대로
  - 누락 없이 그대로 기록

(검증)
- docs/REQUIREMENTS.md의 가정/정책과 docs/API.md 스펙이 서로 충돌하지 않는지 점검 리스트를 출력하세요.
- 충돌이 없음을 확인한 뒤 커밋하세요.

---

## 3단계) DB 모델/마이그레이션/시드 구현  (검증) DB 초기화 & 시드 실행  커밋
- SQLite 파일 기반(예: ./data/app.db)
- 최소 학생 3명, 교수 2명, 학과 2개, 강좌 5개(시간 겹치는 케이스 포함) 시드
- 서버 시작 시(또는 별도 명령) DB 초기화+시드 가능하게 구성

(검증)
- 시드 이후 강좌 목록 조회 기준으로 정원/현재인원/시간정보가 DB에 존재함을 확인하는 출력(간단 쿼리 결과 요약)을 남기세요.
- 성공 후 커밋하세요.

---

## 4단계) API 구현(조회)  (검증) 서버 실행 & 스모크 테스트  커밋
- 학생 목록 조회
- 교수 목록 조회
- 강좌 목록 조회(전체/학과별, 정원/현재 인원/시간 포함)
- 내 시간표 조회(빈 상태 포함)

(검증)
- 서버 실행 방법과 함께 curl 스모크 테스트를 최소 3개 수행하고 결과를 기록하세요.
- 성공 후 커밋하세요.

---

## 5단계) API 구현(수강신청/취소) + 동시성/정합성  (검증) 규칙 테스트  커밋
구현 요구사항:
- 정원 초과 절대 금지(동시성 최우선)
- 학생당 최대 18학점
- 시간표 중복 불가
- 인증은 X-Student-Id 헤더로 단순화
- 에러 응답은 공통 JSON 포맷(code/message)으로 통일
- (student_id, course_id, semester_id) 유니크 제약으로 중복 신청 방지
- 트랜잭션 경계 명확히
- SQLite 특성을 고려한 동시성 전략을 선택하고 근거를 docs/REQUIREMENTS.md에 명확히 작성

(검증)
- 단위/통합 테스트로 학점 제한, 시간 충돌, 중복 신청, 취소 정합성을 검증하세요.
- 테스트 통과 후 커밋하세요.

---

## 6단계) 동시성 테스트(정원 1, 다중 동시 요청)  (검증) 성공 1/실패 N 보장 확인  커밋
- 정원 1인 강좌에 대해 동시 요청을 발생시켜 정확히 1명만 성공을 검증
- SQLite에서 현실적인 한계가 있으면 솔직히 문서에 명시하고, 보완 전략을 함께 적으세요.

(검증)
- 성공/실패 카운트와 최종 enrolled_count를 출력해 정원 초과가 없었음을 증명하세요.
- 검증 통과 후 커밋하세요.

---

## 최종 산출물(마지막 출력)
- 위 파일들의 전체 내용을 파일 단위로 모두 출력해 주세요.
- 마지막에 다음을 제공해 주세요.
  - 실행 방법 요약
  - 주요 설계 결정 5줄 요약
  - 단계별 커밋 메시지 목록 + 각 단계에서 수행한 테스트/검증 요약
  - (선택) curl 예시 3개

주의:
- 과도한 기능 추가 금지(대기열/선수과목/기간 등은 제외로 문서화).
- 코드와 문서가 서로 불일치하면 안 됩니다.
